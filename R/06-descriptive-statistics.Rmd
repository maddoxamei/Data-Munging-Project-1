---
output: html_document
editor_options: 
  chunk_output_type: console
---
# Descriptive Statistics

> ![sticky-note with remember written on it](https://cdn.pixabay.com/photo/2016/12/21/05/44/reminder-1922255_1280.png){width=10%}
> All the charts, plots, and tables contained in this section are **interactive**. Hover over content to obtain more information.

```{r include=FALSE}
csb.data.unitid <- csb.data %>% dplyr::group_by(unitid,instnm, ccbasic) %>% dplyr::summarise(across(where(is.numeric), list(mean=~mean(.x, na.rm=T), med=~median(.x, na.rm=T),sd=~sd(.x, na.rm=T), min=~min(.x, na.rm=T), max=~max(.x, na.rm=T))))

csb.data.year.ccbasic <- csb.data %>% dplyr::group_by(year, ccbasic) %>% dplyr::summarise(across(where(is.numeric), list(mean=~mean(.x, na.rm=T), med=~median(.x, na.rm=T), sd=~sd(.x, na.rm=T), min=~min(.x, na.rm=T), max=~max(.x, na.rm=T))))

csb.data.ccbasic <- csb.data %>% dplyr::group_by(ccbasic) %>% dplyr::summarise(across(where(is.numeric), list(mean=~mean(.x, na.rm=T), med=~median(.x, na.rm=T), sd=~sd(.x, na.rm=T), min=~min(.x, na.rm=T), max=~max(.x, na.rm=T))))
csb.data.ccbasic$n <- csb.data %>% count(ccbasic)

csb.data.year <- csb.data %>% dplyr::group_by(year) %>% dplyr::summarise(across(where(is.numeric), list(mean=~mean(.x, na.rm=T), med=~median(.x, na.rm=T), sd=~sd(.x, na.rm=T), min=~min(.x, na.rm=T), max=~max(.x, na.rm=T))))
```

## School Type

As revealed by Figure \@ref(fig:schooldistribution), the proportion of schools in each category is consistent across the all years. Faith-Related and Health Professional schools _each_ account for approximately $1/3$ of the all the schools. This is an interesting pattern due to the rise in technology-based schools. It is possible they were classified rather as research-based schools or have not been included in the Department of Education's data scope.

```{r schooldistribution, fig.cap="School Distribution", echo=FALSE}
school.distribution()
```

## Earnings Variable



Figure \@ref(fig:earningspercentiles) depicts this relationship. When hovering, some boxplots might display a 90th percentile of $-1$. This was implemented as a workaround for the limitations of the graphics package that was used. When interpreting results, keep in mind that this indicates there were no recorded 90th percentile earnings for any school in that given year.

```{r earningspercentiles, fig.cap="Percentiles of Earnings", echo=F}
earnings.percentiles()
```

```{r earningscomp, fig.cap="Standard Deviation of Earnigns", echo=F}
highchart() %>% 
  earnings.comprehensive("mn", "year", "line")
```

```{r}
highchart() %>% 
  earnings.comprehensive("mn", "ccbasic", "column")%>%hc_chart(inverted=T)
```

## Cost Variable

```{r earningssd, fig.cap="Standard Deviation of Earnigns", echo=F}
highchart() %>%
  violin.id.plots("costt4_|tuitionfee_", "year")%>%
  hc.label("Years After Entry", "Cost", "Cost of Education")
```

## Relationship Between Earnings and Cost

```{r costtoearninst, fig.cap="Institution Cost to Earnings", echo=F}
cost.to.earnings(csb.data.unitid, "{point.instnm}", "Averaged across all years")
```

```{r costtoearnyear, fig.cap="Yearly Cost to Earnings", echo=F}
cost.to.earnings(csb.data.year.ccbasic, "{point.year}", "Averaged across all school types")
```
